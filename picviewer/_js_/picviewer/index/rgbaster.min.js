!function(){"use strict";var n=function(n,t){var e=new Image,r=n.src||n;"data:"!==r.substring(0,5)&&(e.crossOrigin="Anonymous"),e.onload=function(){var n=function(n,t){var e=document.createElement("canvas");return e.setAttribute("width",n),e.setAttribute("height",t),e.getContext("2d")}(e.width,e.height);n.drawImage(e,0,0);var r=n.getImageData(0,e.height-1,1,1);t&&t(r.data)},e.src=r},t=function(n){return["rgb(",n,")"].join("")},e=function(n,e){return{name:t(n),count:e}},RGBaster={};RGBaster.colors=function(r,i){var a=(i=i||{}).exclude||[],o=i.paletteSize||10;n(r,function(n){for(var r={},u="",c=[],s=0;s<n.length;s+=4)c[0]=n[s],c[1]=n[s+1],c[2]=n[s+2],u=c.join(","),-1===c.indexOf(void 0)&&0!==n[s+3]&&-1===a.indexOf(t(u))&&(r[u]=u in r?r[u]+1:1);if(i.success){var f=function(n,t){if(n.length>t)return n.slice(0,t);for(var r=n.length-1;r<t-1;r++)n.push(e("0,0,0",0));return n}(function(n){var t=[];for(var r in n)t.push(e(r,n[r]));return t.sort(function(n,t){return t.count-n.count}),t}(r),o+1);i.success({dominant:f[0].name,secondary:f[1].name,palette:f.map(function(n){return n.name}).slice(1)})}})},window.RGBaster=window.RGBaster||RGBaster}();