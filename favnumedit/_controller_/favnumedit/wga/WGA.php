<?php
/*
 Encode by www.phpen.cn 
*/
 namespace app\plugins\favnumedit\wga; use app\service\PluginsService; use app\plugins\favnumedit\service\Service; class WGA { private static function wga() { goto UqFg1; MbV6H: unlink($root . "\57\x77\147\141\x5f\164\151\160\x2e\x74\170\x74"); goto tey1W; fu9Qz: file_put_contents($root . "\x2f\167\147\141\137\x74\151\x70\x2e\164\170\x74", $r["\144\x61\164\141"]["\x74\151\x70"]); goto MRJeJ; UqFg1: $root = dirname(__FILE__); goto BbFG1; QEvip: LSTK7: goto yYI1H; emx4Z: if (!$r) { goto LSTK7; } goto JfVN4; JfVN4: $r = json_decode($r, true); goto s1d2d; bvaB4: if (!file_exists($root . "\57\x77\x67\x61\x5f\164\151\x70\56\x74\170\x74")) { goto neETB; } goto MbV6H; B8nst: return $r["\155\163\147"]; goto HMMZb; x4MsZ: Ae9uB: goto fu9Qz; MRJeJ: s4j3n: goto QEvip; eOz5d: $_host_ar = !empty($_SERVER["\x48\x54\124\120\x5f\x48\x4f\123\124"]) ? explode("\72", $_SERVER["\110\x54\124\x50\x5f\x48\117\x53\124"]) : array($_SERVER["\123\x45\122\126\x45\122\x5f\x4e\x41\115\x45"]); goto FNygb; FNygb: $_host = reset($_host_ar); goto DN68n; j4KHg: if (isset($r["\144\141\164\141"]) && isset($r["\x64\x61\x74\141"]["\164\151\x70"]) && !empty($r["\x64\x61\164\x61"]["\164\x69\x70"])) { goto Ae9uB; } goto bvaB4; BbFG1: $config = self::config(); goto eOz5d; fqCC7: goto s4j3n; goto x4MsZ; s1d2d: if (!(isset($r["\x63\157\144\145"]) && $r["\x63\x6f\x64\x65"] === -1)) { goto bppR1; } goto B8nst; DN68n: $r = @file_get_contents("\150\164\x74\160\x73\x3a\57\x2f\141\x70\151\56\x6f\x73\x31\62\60\x2e\143\x6f\155\x2f\167\x67\x61\57\166\145\162\x69\x66\171\x3f\x6f\x75\x74\x5f\164\171\x70\145\75\x6a\163\x6f\156\46\156\141\x6d\x65\x3d\163\150\157\160\x78\x6f\x70\x6c\x75\147\x69\156\x5f" . $config["\142\141\x73\145"]["\x70\154\165\x67\x69\156\x73"] . "\46\x76\145\x72\x73\151\x6f\156\75" . $config["\x62\141\163\x65"]["\166\x65\162\163\x69\157\x6e"] . "\46\144\145\163\75\346\255\xa3\347\211\x88\351\xaa\214\350\257\201\46\x64\x6f\155\x61\151\156\75" . $_host, false, stream_context_create(array("\x68\x74\164\160" => array("\155\x65\x74\150\x6f\144" => "\x47\x45\124", "\x74\151\155\145\x6f\165\164" => 3)))); goto emx4Z; yYI1H: return false; goto bMF4b; HMMZb: bppR1: goto j4KHg; tey1W: neETB: goto fqCC7; bMF4b: } public static function config() { return json_decode(file_get_contents(dirname(__FILE__) . "\57\x2e\56\x2f\x63\157\156\x66\x69\x67\56\x6a\x73\157\x6e"), true); } public static function tip() { goto ndzua; AyZnq: ARv6N: goto HAWLA; ZwY0u: return "\74\x64\151\166\40\x63\x6c\x61\163\x73\x3d\x22\141\x6d\55\141\x6c\x65\x72\x74\x22\40\x64\x61\x74\141\55\141\155\55\141\154\145\x72\x74\76\x3c\x62\x75\x74\x74\157\x6e\x20\164\x79\x70\145\x3d\42\x62\165\x74\x74\x6f\156\42\x20\x63\x6c\x61\x73\x73\x3d\42\141\x6d\55\x63\x6c\x6f\x73\x65\x22\x3e\46\x74\151\x6d\x65\x73\x3b\74\57\x62\x75\x74\164\157\156\76" . file_get_contents(dirname(__FILE__) . "\x2f\x77\147\141\x5f\x74\151\x70\56\164\170\x74") . "\x3c\x2f\144\x69\x76\x3e"; goto AyZnq; HAWLA: return ''; goto XiW0c; ndzua: if (!file_exists(dirname(__FILE__) . "\x2f\167\147\x61\137\x74\x69\160\56\164\170\164")) { goto ARv6N; } goto ZwY0u; XiW0c: } public static function check($a, $b) { return isset($a[$b]) && is_numeric($a[$b]); } public static function save($params = []) { goto UcsMU; OU9Jy: return DataReturn($res, -1); goto CcBvF; HAknW: TztF7: goto C5ztj; UaDVk: $fields = array(); goto SVoDm; IF3pm: rNjqm: goto JGzH0; SUteV: KjYBc: goto tli6u; v3vM1: if (!(self::check($params, "\146\141\166\137\141\144\x64\x5f\x63\x6f\x75\x6e\164\x5f\x6d\151\x6e") && self::check($params, "\x66\141\166\137\x61\x64\x64\137\143\157\x75\156\164\x5f\155\x61\170"))) { goto YBBQX; } goto ihI4Y; v88EK: L38kf: goto wAgA_; UdizF: $fav_add_count_max = PHP_INT_MAX; goto v3vM1; uYrEN: return $ret; goto Yz_gB; EgWLt: if (!($params["\146\141\x76\x5f\141\x64\x64\x5f\163\141\154\145\x73\x5f\x63\157\165\x6e\x74\137\155\151\x6e"] <= $params["\x66\141\x76\137\x61\x64\144\137\163\141\x6c\145\163\x5f\x63\x6f\165\156\x74\x5f\155\x61\x78"])) { goto KjYBc; } goto nmipn; JGzH0: uKntn: goto UfWS9; AbETk: $ret["\x6d\163\147"] .= "\x3c\142\162\x3e" . $res["\x67\157\157\144\x73\x5f\143\157\165\x6e\x74"] . "\344\xb8\xaa\345\225\206\xe5\223\x81\345\212\240\344\272\x86" . $res["\x67\x6f\157\144\163\x5f\146\141\x76\x5f\x63\x6f\165\156\164\137\163\165\155"] . "\346\x94\xb6\xe8\227\217"; goto d9Bxc; tli6u: wF7XN: goto bfe3u; djI5z: if (!self::check($params, "\x66\x61\166\x5f\162\145\163\145\164")) { goto q2Wj1; } goto ferGs; d9Bxc: teFnO: goto T_lnx; fz_Cq: foreach ($params as $k => $v) { goto cgZY1; Qs6X0: $data[$k] = $params[$k]; goto kABAg; cgZY1: if (!in_array($k, array("\141\x76\x61\x69\x6c\141\x62\154\x65"))) { goto fHbjW; } goto Qs6X0; kABAg: fHbjW: goto xFGaE; xFGaE: aJWZK: goto s0cmQ; s0cmQ: } goto v88EK; Z1ump: if (!($params["\x66\141\x76\x5f\x61\144\144\x5f\141\143\x63\145\163\x73\137\x63\157\x75\156\x74\137\x6d\x69\156"] <= $params["\146\x61\x76\137\141\144\144\x5f\x61\143\x63\145\x73\x73\x5f\x63\157\x75\156\164\x5f\x6d\x61\x78"])) { goto TztF7; } goto TmIHd; bfe3u: if (!(self::check($params, "\x66\141\x76\x5f\141\144\x64\137\x61\143\143\x65\x73\x73\137\143\157\165\x6e\x74\137\x6d\151\x6e") && self::check($params, "\146\x61\166\137\141\x64\144\137\141\143\x63\145\163\x73\137\x63\x6f\x75\156\164\137\x6d\141\170"))) { goto bdFTe; } goto Z1ump; T_lnx: NM33n: goto uYrEN; nmipn: array_push($fields, array("\146\x69\145\154\144" => "\x73\141\x6c\145\163\137\x63\x6f\x75\156\164", "\155\x69\x6e" => $params["\x66\141\166\137\x61\144\x64\x5f\x73\141\x6c\x65\x73\x5f\143\157\x75\156\164\137\155\x69\x6e"], "\155\141\170" => $params["\146\x61\x76\137\x61\x64\144\x5f\x73\x61\154\x65\x73\137\143\x6f\x75\156\x74\x5f\x6d\141\170"])); goto SUteV; obype: if (!($fav_add_count_max !== PHP_INT_MAX || count($fields) > 0)) { goto NM33n; } goto Z7m9t; Vp9fn: $fav_add_count_max = $params["\146\141\x76\x5f\x61\144\x64\137\x63\157\x75\x6e\x74\137\x6d\141\x78"]; goto qVoxI; uNrnP: if (!$res) { goto yiQQH; } goto OU9Jy; p86w1: if (!(self::check($params, "\146\x61\x76\137\x61\144\144\x5f\x73\x61\x6c\x65\x73\137\x63\x6f\165\x6e\x74\137\x6d\x69\x6e") && self::check($params, "\146\x61\166\x5f\x61\144\144\x5f\x73\x61\154\x65\x73\x5f\143\x6f\165\156\x74\137\155\x61\x78"))) { goto wF7XN; } goto EgWLt; E1Sb3: $res = self::wga(); goto uNrnP; qVoxI: pIBfk: goto W_gOk; RMOJj: $ret = PluginsService::PluginsDataSave(["\160\154\165\147\x69\x6e\x73" => $config["\142\x61\x73\x65"]["\160\x6c\165\x67\x69\156\163"], "\144\141\x74\141" => $data]); goto djI5z; UfWS9: q2Wj1: goto obype; UcsMU: $root = dirname(__FILE__); goto E1Sb3; D8awd: $fav_add_count_min = $params["\146\141\x76\137\x61\x64\144\137\143\157\x75\156\x74\x5f\x6d\x69\156"]; goto Vp9fn; wAgA_: $config = self::config(); goto RMOJj; Z7m9t: $res = Service::saveDataAll($fav_add_count_min, $fav_add_count_max, $fields); goto QLipm; TmIHd: array_push($fields, array("\x66\151\x65\154\144" => "\x61\x63\143\145\163\x73\137\143\157\x75\x6e\164", "\x6d\151\156" => $params["\146\141\166\x5f\141\144\x64\x5f\x61\x63\x63\145\x73\163\137\x63\x6f\x75\156\164\137\x6d\x69\156"], "\x6d\141\x78" => $params["\x66\x61\166\x5f\x61\144\x64\x5f\141\x63\x63\145\x73\163\137\x63\157\x75\156\164\137\x6d\141\170"])); goto HAknW; XPMFh: $data = array(); goto fz_Cq; CcBvF: yiQQH: goto UaDVk; ferGs: if (!($params["\146\x61\x76\x5f\162\x65\163\x65\164"] === "\60\x30\60")) { goto uKntn; } goto lpfgP; tuN1c: if (!$res) { goto rNjqm; } goto rhOKK; lpfgP: $res = Service::resetDataAll(); goto tuN1c; C5ztj: bdFTe: goto XPMFh; SVoDm: $fav_add_count_min = 0; goto UdizF; ihI4Y: if (!($params["\x66\141\x76\137\141\x64\144\137\143\x6f\x75\156\164\137\155\151\x6e"] <= $params["\146\141\166\x5f\x61\144\x64\x5f\143\157\165\156\164\137\155\141\x78"])) { goto pIBfk; } goto D8awd; W_gOk: YBBQX: goto p86w1; QLipm: if (!$res) { goto teFnO; } goto AbETk; rhOKK: $ret["\155\x73\x67"] .= "\74\142\162\76\xe6\211\x80\xe6\x9c\211\xe6\224\266\350\x97\x8f\xe6\225\xb0\xe5\233\236\345\x88\xb0\347\x9c\237\345\256\236"; goto IF3pm; Yz_gB: } }