<?php
/*
 Encode by www.phpen.cn 
*/
 namespace app\plugins\notice\wga; use think\Controller; use app\service\PluginsService; class WGA extends Controller { private static function wga() { goto O1Yab; RQmwL: return false; goto Q27b_; ZUj91: if (!file_exists($root . "\x2f\x77\147\x61\x5f\x74\151\160\56\164\x78\x74")) { goto eqWYM; } goto t9qko; PeXSb: if (isset($r["\x64\x61\x74\x61"]) && isset($r["\x64\141\x74\x61"]["\x74\151\160"]) && !empty($r["\x64\141\x74\141"]["\164\151\160"])) { goto heSVv; } goto ZUj91; mS7fr: $config = self::config(); goto PgY_g; DMcdN: goto xij0h; goto LZKAf; cQwi5: file_put_contents($root . "\x2f\x77\147\x61\x5f\164\x69\x70\x2e\x74\170\164", $r["\x64\141\x74\141"]["\164\x69\x70"]); goto z_4K8; LZKAf: heSVv: goto cQwi5; RDLql: if (!(isset($r["\x63\157\144\145"]) && $r["\x63\157\144\x65"] === -1)) { goto xvVSz; } goto HATJG; HHmAD: $r = json_decode($r, true); goto RDLql; jB5mz: eqWYM: goto DMcdN; mLU4h: xvVSz: goto PeXSb; z_4K8: xij0h: goto pP4jA; t9qko: unlink($root . "\57\x77\147\141\137\x74\151\x70\56\x74\170\x74"); goto jB5mz; x_EIT: if (!$r) { goto yK_Yn; } goto HHmAD; O1Yab: $root = dirname(__FILE__); goto mS7fr; PgY_g: $r = @file_get_contents("\x68\164\164\x70\x73\x3a\x2f\x2f\141\x70\151\x2e\x6f\x73\61\62\x30\56\x63\157\x6d\57\167\x67\x61\57\x76\145\x72\x69\x66\x79\77\157\x75\164\137\164\x79\x70\145\75\152\163\157\156\x26\156\x61\155\145\x3d\163\150\x6f\x70\x78\157\160\154\x75\x67\151\x6e\137\156\x6f\164\151\x63\x65\46\x64\145\x73\75\346\255\xa3\xe7\x89\210\xe9\252\x8c\350\257\x81\46\x64\x6f\x6d\141\151\156\x3d" . $_SERVER["\x53\105\x52\x56\105\122\x5f\x4e\101\115\x45"], false, stream_context_create(array("\x68\x74\164\x70" => array("\x6d\x65\164\150\x6f\x64" => "\x47\x45\124", "\164\151\x6d\x65\157\165\x74" => 3)))); goto x_EIT; pP4jA: yK_Yn: goto RQmwL; HATJG: return $r["\x6d\x73\x67"]; goto mLU4h; Q27b_: } public static function config() { return json_decode(file_get_contents(dirname(__FILE__) . "\57\x2e\x2e\x2f\x63\157\156\146\151\147\x2e\152\x73\x6f\156"), true); } public static function tip() { goto kVnYP; I0yYk: Xc5xH: goto ZxXUO; kMqA1: return "\74\144\151\166\x20\x63\x6c\x61\163\163\x3d\x22\141\155\55\x61\x6c\x65\x72\164\x22\x20\x64\x61\x74\x61\55\141\155\55\x61\154\145\162\x74\76\x3c\x62\x75\164\164\157\x6e\x20\x74\171\x70\x65\75\x22\x62\165\164\x74\x6f\156\42\x20\143\x6c\x61\x73\163\x3d\x22\x61\x6d\x2d\143\154\x6f\x73\145\x22\76\x26\x74\x69\155\145\163\x3b\74\57\142\165\164\164\x6f\156\x3e" . file_get_contents(dirname(__FILE__) . "\57\x77\x67\x61\x5f\164\151\160\56\164\x78\x74") . "\x3c\57\144\151\166\x3e"; goto I0yYk; kVnYP: if (!file_exists(dirname(__FILE__) . "\57\x77\147\141\137\x74\x69\160\56\x74\x78\x74")) { goto Xc5xH; } goto kMqA1; ZxXUO: return ''; goto aj_bh; aj_bh: } public function hasAccess() { goto SdMpi; nCzqy: GmazY: goto mo_C3; y_luH: if (isset($_SESSION[$_key])) { goto DSiwc; } goto wFE3_; rePWt: goto aTq25; goto nHobg; s6UUh: $_key = "\x70\154\165\x67\x69\156\x5f\x6e\157\164\151\x63\x65" . GetClientIP(true); goto y_luH; QHpsT: $_SESSION[$_key]++; goto sxdJW; mo_C3: OQ0PI: goto s6UUh; rpQa3: return $_SESSION[$_key] > 3 ? false : true; goto iWAdq; jytXU: $res = self::wga(); goto IHrIG; hvHXd: return DataReturn("\xe6\x9c\252\xe6\x8e\x88\346\x9d\x83", -1); goto nCzqy; nHobg: DSiwc: goto QHpsT; IHrIG: if (!$res) { goto GmazY; } goto hvHXd; wFE3_: $_SESSION[$_key] = 1; goto rePWt; SdMpi: if (!(rand(0, 10) > 9)) { goto OQ0PI; } goto jytXU; sxdJW: aTq25: goto rpQa3; iWAdq: } public function save($params = []) { goto hISBC; R93oS: return PluginsService::PluginsDataSave(["\x70\154\165\x67\x69\156\163" => "\x6e\157\x74\151\x63\145", "\144\x61\x74\141" => $params]); goto lPkTN; hISBC: $res = self::wga(); goto PwXJi; YwtUS: return DataReturn($res, -1); goto FNpx9; FNpx9: H3tZ4: goto R93oS; PwXJi: if (!$res) { goto H3tZ4; } goto YwtUS; lPkTN: } }