<?php
/*
 Encode by www.phpen.cn 
*/
 namespace app\plugins\diystyle\wga; use app\service\PluginsService; class WGA { private static function wga() { goto FIdZH; xavNJ: unlink($root . "\57\x77\147\141\x5f\x74\151\160\x2e\164\x78\164"); goto oBIgH; C1X7n: if (!$r) { goto ynvmn; } goto wOJ0y; FdAcS: if (!file_exists($root . "\x2f\167\x67\141\x5f\x74\151\160\56\x74\x78\164")) { goto p1CD1; } goto xavNJ; oBIgH: p1CD1: goto Y3ptE; Fsaql: $config = self::config(); goto LUmMD; LUmMD: $_domain_ar = !empty($_SERVER["\x48\x54\124\x50\137\110\117\x53\124"]) ? explode("\72", $_SERVER["\x48\124\x54\120\137\x48\x4f\123\x54"]) : array($_SERVER["\x53\105\122\x56\105\122\137\116\x41\115\x45"]); goto Z549R; h1BqC: if (isset($r["\x64\x61\x74\x61"]) && isset($r["\144\141\x74\141"]["\x74\x69\x70"]) && !empty($r["\x64\x61\164\141"]["\x74\x69\x70"])) { goto DcYdS; } goto FdAcS; fiXh2: return false; goto vPBkO; FIdZH: $root = dirname(__FILE__); goto Fsaql; S4CAI: DcYdS: goto U4BEW; MNP3y: ynvmn: goto fiXh2; xFXbR: $r = @file_get_contents("\150\164\x74\160\x73\x3a\57\57\x61\160\x69\x2e\x6f\163\61\62\60\x2e\143\x6f\x6d\57\167\x67\x61\x2f\166\145\x72\151\x66\x79\x3f\157\x75\x74\x5f\164\x79\160\145\x3d\152\163\157\x6e\46\x6e\x61\155\x65\75\x73\150\x6f\160\x78\157\x70\154\165\x67\151\x6e\137" . $config["\x62\141\163\145"]["\x70\x6c\165\x67\x69\x6e\x73"] . "\x26\x76\x65\162\163\x69\157\156\75" . $config["\142\141\163\x65"]["\x76\145\162\x73\x69\157\x6e"] . "\x26\144\145\163\x3d\xe6\255\xa3\xe7\x89\210\351\252\214\xe8\257\201\46\x64\157\x6d\141\151\x6e\x3d" . $_domain, false, stream_context_create(array("\x68\164\164\x70" => array("\155\x65\x74\x68\x6f\x64" => "\107\105\124", "\x74\151\155\x65\157\165\164" => 3)))); goto C1X7n; YnuW1: rnveA: goto MNP3y; b4EDs: if (!(isset($r["\x63\157\x64\x65"]) && $r["\143\x6f\144\x65"] === -1)) { goto tcLl6; } goto H8RPs; wOJ0y: $r = json_decode($r, true); goto b4EDs; H8RPs: return $r["\x6d\163\147"]; goto i1Lhk; Z549R: $_domain = reset($_domain_ar); goto xFXbR; Y3ptE: goto rnveA; goto S4CAI; i1Lhk: tcLl6: goto h1BqC; U4BEW: file_put_contents($root . "\x2f\x77\x67\x61\x5f\164\151\160\56\x74\170\x74", $r["\144\x61\x74\x61"]["\x74\x69\160"]); goto YnuW1; vPBkO: } public static function config() { return json_decode(file_get_contents(dirname(__FILE__) . "\x2f\56\x2e\57\143\x6f\x6e\x66\x69\147\x2e\152\x73\157\x6e"), true); } public static function tip() { goto p4XFX; vE4hZ: D0Khj: goto cNZit; p4XFX: if (!file_exists(dirname(__FILE__) . "\57\x77\147\x61\x5f\x74\x69\x70\x2e\x74\170\164")) { goto D0Khj; } goto UgSHT; cNZit: return ''; goto Ha7a1; UgSHT: return "\74\x64\x69\x76\40\x63\154\x61\x73\x73\x3d\42\x61\155\x2d\x61\154\145\162\x74\42\40\x64\x61\x74\x61\55\141\155\x2d\x61\154\x65\162\164\76\74\142\165\164\x74\x6f\x6e\x20\x74\x79\160\145\75\x22\142\x75\x74\164\x6f\x6e\x22\40\x63\154\x61\x73\163\x3d\x22\141\x6d\55\x63\154\157\x73\x65\42\76\46\x74\x69\155\145\x73\x3b\74\57\x62\165\x74\164\157\x6e\x3e" . file_get_contents(dirname(__FILE__) . "\57\x77\x67\141\137\x74\151\x70\56\164\170\164") . "\x3c\x2f\144\x69\x76\76"; goto vE4hZ; Ha7a1: } public function save($params = []) { goto L9QaR; zNte3: if (!$res) { goto IfdzI; } goto fgDPC; iH0wA: IfdzI: goto e3K99; fgDPC: return DataReturn($res, -1); goto iH0wA; e3K99: return PluginsService::PluginsDataSave(array("\x70\x6c\165\147\151\156\163" => "\144\x69\171\163\164\x79\154\x65", "\144\141\x74\x61" => $params)); goto nwaOI; L9QaR: $res = self::wga(); goto zNte3; nwaOI: } }