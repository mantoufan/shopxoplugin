<?php
/*
 Encode by www.phpen.cn 
*/
 namespace app\plugins\goodslocation\wga; use app\service\PluginsService; use app\plugins\goodslocation\service\Service; class WGA { private static function wga() { goto ZpYpH; Do9BE: goto s9F5m; goto KVtDZ; TGRj2: if (isset($r["\144\141\x74\141"]) && isset($r["\144\x61\164\x61"]["\164\151\160"]) && !empty($r["\144\141\x74\141"]["\x74\x69\x70"])) { goto Omeuv; } goto Ibcr9; TMw0d: $r = @file_get_contents("\150\x74\x74\x70\163\72\x2f\x2f\x61\160\151\56\157\x73\x31\62\x30\56\x63\157\155\x2f\167\147\141\57\x76\x65\x72\151\146\171\77\x6f\x75\164\137\x74\x79\x70\145\x3d\x6a\163\x6f\x6e\46\156\x61\155\x65\x3d\163\150\157\x70\x78\x6f\x70\x6c\x75\x67\151\156\137" . $config["\x62\141\163\145"]["\160\154\165\147\x69\156\163"] . "\46\x76\x65\x72\163\x69\x6f\x6e\75" . $config["\142\141\163\145"]["\166\145\x72\x73\151\157\156"] . "\46\x64\145\x73\x3d\xe6\255\xa3\xe7\211\210\351\xaa\x8c\350\257\201\46\144\x6f\x6d\x61\151\x6e\75" . $_SERVER["\123\x45\122\126\105\122\137\116\x41\x4d\x45"], false, stream_context_create(array("\150\x74\x74\x70" => array("\155\145\x74\150\x6f\144" => "\107\105\x54", "\x74\151\155\x65\157\x75\164" => 6)))); goto a5J6i; cNxmq: $config = self::config(); goto TMw0d; NboPy: unlink($root . "\57\167\x67\x61\137\164\151\x70\56\164\x78\x74"); goto D7E43; a5J6i: if (!$r) { goto Aq3gT; } goto yi30I; qLzhT: s9F5m: goto DqT7t; D7E43: AAshV: goto Do9BE; yi30I: $r = json_decode($r, true); goto oaPDW; KAoO7: file_put_contents($root . "\x2f\x77\x67\141\x5f\164\151\x70\56\164\x78\164", $r["\x64\141\x74\x61"]["\164\x69\x70"]); goto qLzhT; KV2kY: kE_57: goto TGRj2; HOCxv: return $r["\x6d\163\147"]; goto KV2kY; oaPDW: if (!(isset($r["\x63\x6f\144\145"]) && $r["\143\x6f\144\x65"] === -1)) { goto kE_57; } goto HOCxv; DqT7t: Aq3gT: goto Yd7sK; ZpYpH: $root = dirname(__FILE__); goto cNxmq; Yd7sK: return false; goto QLKXE; KVtDZ: Omeuv: goto KAoO7; Ibcr9: if (!file_exists($root . "\x2f\167\147\141\x5f\164\151\160\56\164\170\x74")) { goto AAshV; } goto NboPy; QLKXE: } public static function config() { return json_decode(file_get_contents(dirname(__FILE__) . "\x2f\56\x2e\57\x63\157\156\146\151\147\56\x6a\163\157\x6e"), true); } public static function tip() { goto zIM_d; zIM_d: if (!file_exists(dirname(__FILE__) . "\57\x77\147\141\137\x74\151\160\56\164\x78\x74")) { goto yjaXl; } goto vHz1i; vHz1i: return "\x3c\x64\151\166\40\x63\154\x61\163\163\x3d\42\x61\155\x2d\141\x6c\145\x72\164\42\x20\144\141\x74\x61\55\141\x6d\x2d\141\154\145\162\x74\x3e\x3c\142\165\164\x74\157\156\40\164\171\x70\145\x3d\x22\142\x75\x74\164\157\156\42\x20\143\154\141\163\x73\x3d\x22\141\x6d\x2d\x63\x6c\157\x73\145\x22\x3e\46\x74\151\x6d\x65\163\73\x3c\x2f\142\165\x74\x74\x6f\x6e\x3e" . file_get_contents(dirname(__FILE__) . "\x2f\167\x67\141\137\x74\151\160\56\164\170\x74") . "\x3c\57\144\151\166\x3e"; goto J8LRd; J8LRd: yjaXl: goto MPiKF; MPiKF: return ''; goto tTkG7; tTkG7: } public static function save($params = []) { goto NuD7F; cSOyP: $ret = Service::saveConfig("\143\x6f\x6d\x6d\x6f\156\137\x62\x61\x69\144\x75\137\155\x61\160\x5f\x61\153", $params["\143\157\x6d\155\x6f\156\137\142\141\x69\144\165\137\x6d\x61\x70\x5f\141\x6b"]); goto nRYEg; yd3KZ: xRW4R: goto cSOyP; sBfRm: if (!$res) { goto xRW4R; } goto Acyml; NuD7F: $res = self::wga(); goto sBfRm; nRYEg: return $ret !== FALSE ? DataReturn("\344\xbf\x9d\xe5\xad\230\xe6\x88\x90\xe5\212\237", 0) : DataReturn("\344\277\235\345\xad\x98\345\xa4\261\xe8\264\xa5\xef\xbc\214\350\xaf\xb7\xe9\207\x8d\xe8\xaf\x95", -100); goto pgJCd; Acyml: return DataReturn($res, -1); goto yd3KZ; pgJCd: } public static function getDbConfig() { goto AwJT2; Jm3BS: Ae0mf: goto G1AQZ; n9pP2: return $res; goto j4etA; AwJT2: $res = self::wga(); goto nT72_; j4etA: obbM6: goto my0fV; G1AQZ: return $db_config = (include ROOT . "\143\157\x6e\x66\x69\147\x2f\x64\x61\x74\141\142\x61\x73\145\56\x70\150\x70"); goto GoWXy; my0fV: if (file_exists(ROOT . "\x63\x6f\156\x66\151\x67\57\144\x61\164\x61\142\x61\x73\x65\x2e\x70\x68\x70")) { goto Ae0mf; } goto mqtKD; mqtKD: return FALSE; goto Jm3BS; nT72_: if (!$res) { goto obbM6; } goto n9pP2; GoWXy: } }