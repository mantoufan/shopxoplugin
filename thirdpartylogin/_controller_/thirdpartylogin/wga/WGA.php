<?php
/*
 Encode by www.phpen.cn 
*/
 namespace app\plugins\thirdpartylogin\wga; use app\service\PluginsService; use app\plugins\thirdpartylogin\service\Service; class WGA { private static function wga() { goto ZlTqq; HHauu: X2lVV: goto B1lPK; A8n5b: $r = @file_get_contents("\x68\x74\164\160\163\72\x2f\57\141\x70\x69\x2e\157\163\x31\62\60\56\143\157\x6d\57\x77\x67\x61\57\166\145\162\151\146\171\x3f\157\165\x74\x5f\x74\x79\x70\145\x3d\x6a\x73\157\156\46\156\x61\155\x65\75\x73\150\157\160\x78\157\x70\x6c\165\x67\151\156\137" . $config["\142\x61\163\x65"]["\160\154\x75\147\151\x6e\163"] . "\46\x76\x65\162\x73\151\157\x6e\75" . $config["\142\x61\163\x65"]["\x76\x65\x72\163\x69\157\156"] . "\x26\144\145\x73\75\346\xad\xa3\347\x89\x88\351\252\x8c\350\xaf\201\x26\x64\157\x6d\141\151\x6e\75" . $_SERVER["\123\x45\122\126\x45\x52\x5f\x4e\101\x4d\x45"], false, stream_context_create(array("\150\164\164\x70" => array("\x6d\145\164\150\157\x64" => "\x47\x45\x54", "\x74\x69\x6d\145\157\x75\164" => 3)))); goto hiUQF; w2dev: $config = self::config(); goto A8n5b; UPuha: goto eLdi5; goto Lx3h1; a5xpt: RlN8u: goto UPuha; ZlTqq: $root = dirname(__FILE__); goto w2dev; VvVzr: unlink($root . "\x2f\167\x67\x61\x5f\x74\x69\160\56\x74\170\164"); goto a5xpt; Lx3h1: AjLp2: goto tfOoU; K63ac: $r = json_decode($r, true); goto a57Jg; Wvmsh: return $r["\155\x73\147"]; goto lmVAl; lmVAl: RE4l7: goto Y40MD; nEmQ1: eLdi5: goto HHauu; J7LWc: if (!file_exists($root . "\x2f\167\147\141\x5f\164\151\x70\56\x74\x78\x74")) { goto RlN8u; } goto VvVzr; Y40MD: if (isset($r["\144\x61\164\x61"]) && isset($r["\x64\141\x74\141"]["\164\151\160"]) && !empty($r["\x64\x61\x74\x61"]["\164\x69\160"])) { goto AjLp2; } goto J7LWc; B1lPK: return false; goto yzKeA; hiUQF: if (!$r) { goto X2lVV; } goto K63ac; a57Jg: if (!(isset($r["\x63\157\x64\x65"]) && $r["\x63\157\x64\x65"] === -1)) { goto RE4l7; } goto Wvmsh; tfOoU: file_put_contents($root . "\x2f\x77\147\141\x5f\x74\x69\x70\56\164\170\164", $r["\144\141\164\141"]["\x74\x69\x70"]); goto nEmQ1; yzKeA: } public static function config() { return json_decode(file_get_contents(dirname(__FILE__) . "\x2f\56\56\x2f\x63\157\156\x66\151\x67\56\x6a\163\x6f\156"), true); } public static function tip() { goto i0ZM7; i0ZM7: if (!file_exists(dirname(__FILE__) . "\x2f\x77\x67\141\137\164\151\x70\56\x74\x78\164")) { goto sZi9R; } goto NFtsQ; lcEKn: return ''; goto RWbB_; OCslQ: sZi9R: goto lcEKn; NFtsQ: return "\x3c\144\151\166\x20\x63\154\x61\163\163\75\x22\141\x6d\x2d\x61\154\145\162\164\x22\x20\x64\141\164\x61\55\x61\155\x2d\141\x6c\x65\162\x74\x3e\74\142\x75\164\164\x6f\x6e\40\164\171\x70\145\x3d\x22\142\x75\164\164\x6f\156\42\x20\143\x6c\x61\x73\163\75\x22\141\x6d\x2d\x63\154\x6f\x73\145\x22\76\x26\x74\151\155\145\163\73\74\x2f\142\x75\x74\x74\x6f\156\76" . file_get_contents(dirname(__FILE__) . "\x2f\x77\x67\141\x5f\x74\x69\160\x2e\164\170\x74") . "\x3c\57\144\x69\166\x3e"; goto OCslQ; RWbB_: } public static function save($params = []) { goto J1qKz; rI3fH: Qn136: goto rM9Vo; J1qKz: $res = self::wga(); goto aEFKz; ayLF5: return PluginsService::PluginsDataSave(["\x70\x6c\165\147\x69\x6e\x73" => $config["\142\141\163\x65"]["\x70\x6c\165\147\151\x6e\x73"], "\144\x61\164\141" => $params]); goto VIVsa; rKIL_: return DataReturn($res, -1); goto rI3fH; IoIbt: unset($params["\141\x6c\x69\x70\x61\x79\137\x61\x70\x70\x69\144"], $params["\x61\x6c\x69\x70\x61\x79\x5f\162\x73\x61\x5f\160\162\151\x76\141\x74\145"], $params["\141\154\x69\x70\x61\x79\137\162\163\141\137\160\165\142\154\x69\x63"], $params["\x61\x6c\x69\x70\x61\x79\137\x6f\x75\164\x5f\162\x73\x61\137\160\x75\142\154\151\x63"]); goto k3qy2; k3qy2: $config = self::config(); goto ayLF5; aEFKz: if (!$res) { goto Qn136; } goto rKIL_; rM9Vo: Service::savePayConfig(array("\x41\154\151\x70\x61\171" => array("\141\160\x70\x69\144" => $params["\141\154\151\x70\x61\171\137\x61\160\160\151\x64"], "\x72\x73\141\137\160\x72\x69\x76\x61\164\145" => $params["\x61\154\x69\160\141\x79\x5f\162\x73\x61\137\160\x72\x69\x76\141\x74\x65"], "\162\x73\141\137\x70\x75\142\x6c\151\x63" => $params["\141\154\x69\x70\141\x79\137\x72\163\x61\137\x70\x75\x62\x6c\x69\x63"], "\157\x75\164\x5f\162\x73\x61\x5f\x70\x75\x62\x6c\151\143" => $params["\x61\154\151\160\141\171\137\157\x75\x74\137\x72\x73\x61\137\x70\165\142\154\x69\x63"]))); goto IoIbt; VIVsa: } }